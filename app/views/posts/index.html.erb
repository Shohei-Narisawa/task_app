<div class ="main_container">
    <h2>スケジュール一覧</h2>
    
    <% if flash.notice %>
        <p class="notice"><%= flash.notice %></p>
    <% end %>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>タイトル</th>
                <th>開始日</th>
                <th>終了日</th>
                <th>終日</th>
                <th>スケジュール更新日時</th>
                <th>確認</th>
                <th>編集</th>
                <th>削除</th>
            </tr>
        </thead>
        
        <tbody>
            <% @posts.each do |post| %>
                <tr>
                    <td><%= post.id %></td>
                    <td><%= post.title %></td>
                    <td><%= post.start_at %></td>
                    <td><%= post.end_at %></td>
                    <td>
                        
                        <% if post.all_day == true %>
                            ○
                        <% else %>
                              
                        <% end %>
                        </td>
                        
                    
                    <td><%= post.updated_at.to_s(:datetime_jp) %></td>
                    <td><%= link_to '確認', "/posts/#{post.id}" %></td>
                    <td><%= link_to '編集', "/posts/#{post.id}/edit" %></td>
                    <td><%= link_to '削除' %></td>
                </tr>
            <% end %>
        </tbody>
    </table>
    
    <%= link_to "スケジュール新規登録", :new_post %>
</div>

<footer>
    <h1><%= "現在の日時 : #{ Date.current&.strftime('%Y年%m月%d日') }" %> スケジュール合計：<%= @post_count %></h1>
</footer>